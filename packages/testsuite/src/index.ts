import { Hex } from "viem";

import { Input, Output } from "@guidanoli/cmioc";

export type EncodingTestCase<T> = {
    name: string;
    blob: Hex;
    data: T;
};

export const inputTestSuite: EncodingTestCase<Input>[] = [
    {
        name: "input with non-empty payload",
        blob: "0x415bf363000000000000000000000000000000000000000000000000000000000000000100000000000000000000000070ac08179605af2d9e75782b8decdd3c22aa4d0c000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266000000000000000000000000000000000000000000000000000000000129bbad00000000000000000000000000000000000000000000000000000000660195215a41539c3688747a1a8c7811b98b0427331ff73aab018eb5c9921993d617f314000000000000000000000000000000000000000000000000000000000000002a00000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000004deadbeef00000000000000000000000000000000000000000000000000000000",
        data: {
            chainId: 1n,
            appContract: "0x70ac08179605AF2D9e75782b8DEcDD3c22aA4D0C",
            msgSender: "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
            blockNumber: 19512237n,
            blockTimestamp: 1711379745n,
            prevRandao:
                40823578488146031703637781058841789769586951870728503003341100870835983872788n,
            index: 42n,
            payload: "0xdeadbeef",
        },
    },
    {
        name: "input with empty payload",
        blob: "0x415bf363000000000000000000000000000000000000000000000000000000000000000100000000000000000000000070ac08179605af2d9e75782b8decdd3c22aa4d0c000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266000000000000000000000000000000000000000000000000000000000129bbad00000000000000000000000000000000000000000000000000000000660195215a41539c3688747a1a8c7811b98b0427331ff73aab018eb5c9921993d617f314000000000000000000000000000000000000000000000000000000000000002a00000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000",
        data: {
            chainId: 1n,
            appContract: "0x70ac08179605AF2D9e75782b8DEcDD3c22aA4D0C",
            msgSender: "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
            blockNumber: 19512237n,
            blockTimestamp: 1711379745n,
            prevRandao:
                40823578488146031703637781058841789769586951870728503003341100870835983872788n,
            index: 42n,
            payload: "0x",
        },
    },
];

export const outputTestSuite: EncodingTestCase<Output>[] = [
    {
        name: "notice with non-empty payload",
        blob: "0xc258d6e500000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000004deadbeef00000000000000000000000000000000000000000000000000000000",
        data: {
            type: "notice",
            payload: "0xdeadbeef",
        },
    },
    {
        name: "notice with empty payload",
        blob: "0xc258d6e500000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000",
        data: {
            type: "notice",
            payload: "0x",
        },
    },
    {
        name: "voucher with non-empty payload",
        blob: "0x237a816f000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb922660000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000003fafafa0000000000000000000000000000000000000000000000000000000000",
        data: {
            type: "voucher",
            destination: "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
            value: 1000000000000000000n,
            payload: "0xfafafa",
        },
    },
    {
        name: "voucher with empty payload",
        blob: "0x237a816f000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb922660000000000000000000000000000000000000000000000000de0b6b3a764000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000000",
        data: {
            type: "voucher",
            destination: "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
            value: 1000000000000000000n,
            payload: "0x",
        },
    },
    {
        name: "delegatecall voucher with non-empty payload",
        blob: "0x10321e8b000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb9226600000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000003fafafa0000000000000000000000000000000000000000000000000000000000",
        data: {
            type: "delegatecallvoucher",
            destination: "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
            payload: "0xfafafa",
        },
    },
    {
        name: "delegatecall voucher with empty payload",
        blob: "0x10321e8b000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb9226600000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000",
        data: {
            type: "delegatecallvoucher",
            destination: "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
            payload: "0x",
        },
    },
];
